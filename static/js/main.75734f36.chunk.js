(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{141:function(e,t,n){e.exports={update:"Update_update__2M8tE"}},151:function(e,t,n){},156:function(e,t,n){},268:function(e,t){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(22),i=n.n(r),o=(n(151),n(51)),a=n(39),j=(n(156),n(290)),u=n(291),d=n(1);function l(){return Object(d.jsx)(j.a.Header,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(d.jsx)(u.a,{theme:"dark",mode:"horizontal",style:{color:"white",fontSize:"25px"},children:"Hacker-News"})})}var b=n(54),m=n(140),O=n(42),f=n(8),h=n(32),x=n.n(h),p=n(61),g=n(49),w=n(50),v=n(62),C=n.n(v),k="https://hacker-news.firebaseio.com/v0/",y=function(){function e(){Object(g.a)(this,e)}return Object(w.a)(e,null,[{key:"getNewsID",value:function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(k,"/newstories.json"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNews",value:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(k,"/item/").concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getComment",value:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(k,"/item/").concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKidsComment",value:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(k,"/item/").concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E="SET_NEWS",N="RESET_NEWS",_={news:[]};var L=function(e){return function(t){y.getNews(e).then((function(e){e&&t({type:E,news:e})}))}},S="SET_NEWS_PROFILE",T="TOGGLE_IS_LOADING",M="SET_COMMENT",P="RESET_COMMENTS",I="RESET_KIDS",D="SET_KIDS_COMMENT",K="INCREMENT_COMMENTS_COUNT",z="RESET_COMMENTS_COUNT",B="INCREMENT_DELETE_COMMENTS_COUNT",R="RESET_DELETE_COMMENTS_COUNT",U={newsProfile:{},comments:[],kids:[],commentsCount:0,isLoading:!1,deleteCommentsCount:0},W=function(e){return{type:T,isLoading:e}},Y=function(){return{type:P}},F=function(){return{type:z}},H=function(){return{type:R}},G=function(e){return function(t){y.getComment(e).then((function(e){e.deleted?t({type:B}):(t({type:M,comment:e}),t({type:K}))}))}},A=function(e){return function(t){t({type:I}),y.getKidsComment(e).then((function(e){e.deleted||t({type:D,kid:e})}))}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(f.a)(Object(f.a)({},e),{},{newsProfile:t.newsProfile});case M:return Object(f.a)(Object(f.a)({},e),{},{comments:e.comments.length&&e.comments[0].time<t.comment.time?[t.comment].concat(Object(O.a)(e.comments)):[].concat(Object(O.a)(e.comments),[t.comment])});case D:return Object(f.a)(Object(f.a)({},e),{},{kids:[t.kid].concat(Object(O.a)(e.kids))});case P:return Object(f.a)(Object(f.a)({},e),{},{comments:[]});case I:return Object(f.a)(Object(f.a)({},e),{},{kids:[]});case K:return Object(f.a)(Object(f.a)({},e),{},{commentsCount:++e.commentsCount});case z:return Object(f.a)(Object(f.a)({},e),{},{commentsCount:0});case B:return Object(f.a)(Object(f.a)({},e),{},{deleteCommentsCount:++e.deleteCommentsCount});case R:return Object(f.a)(Object(f.a)({},e),{},{deleteCommentsCount:0});case T:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.isLoading});default:return e}},q=Object(b.b)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(f.a)(Object(f.a)({},e),{},{news:e.news.length&&e.news[0].time<t.news.time?[t.news].concat(Object(O.a)(e.news)):[].concat(Object(O.a)(e.news),[t.news])});case N:return Object(f.a)(Object(f.a)({},e),{},{news:[]});default:return e}},newsPage:J}),V=Object(b.d)(q,Object(b.a)(m.a)),X=n(11),Q=n(83),Z=n(82),$=n(95),ee=n.n($);function te(){return Object(d.jsx)(j.a.Content,{className:ee.a.body,children:Object(d.jsx)("div",{className:ee.a.loading,children:"Loading News"})})}var ne=n(145),ce=n(296),se=n(141),re=n.n(se);function ie(e){return Object(d.jsxs)("button",{className:re.a.update,onClick:e.onClick,children:[Object(d.jsx)(ce.a,{}),Object(d.jsx)("strong",{children:" update"})]})}var oe=n(297),ae=n(84),je=n.n(ae);function ue(e){var t=je.a.hide;return e.isScroll&&(t=je.a.show),Object(d.jsx)(oe.a,{className:[je.a.back,t].join(" "),onClick:function(){return e.goBack()}})}var de=n(298),le=n(299),be=n(300),me=n(295),Oe=n(34),fe=n.n(Oe);function he(e){var t=e.news,n=fe.a.unix(t.time),c=Object(X.g)();return Object(d.jsxs)("div",{className:"news",onClick:function(){return c.push("/news/".concat(t.id))},children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("strong",{children:t.title})}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsxs)("div",{style:{wordSpacing:"0.5em"},children:[Object(d.jsx)(de.a,{})," ",t.by," ",Object(d.jsx)(le.a,{})," ",t.kids?t.kids.length:0," ",Object(d.jsx)(be.a,{})," ",t.score]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(me.a,{})," ",n.format("LTS"),"  \ud83d\udcc5 ",n.format("LL")]})]})]})}function xe(e){var t=e.news,n=e.getNewsIds,s=Object(c.useState)(!1),r=Object(ne.a)(s,2),i=r[0],o=r[1],a=function(){window.scrollY>=100?o(!0):window.scrollY<100&&o(!1)};return Object(c.useEffect)((function(){return o?window.addEventListener("scroll",a):window.removeEventListener("scroll",a),function(){window.removeEventListener("scroll",a)}}),[]),Object(d.jsxs)(j.a.Content,{children:[Object(d.jsx)(ie,{onClick:n}),Object(d.jsx)(ue,{isScroll:i,goBack:function(){window.scrollTo(document.body.scrollHeight,0)}}),t.map((function(e){return Object(d.jsx)(he,{news:e},e.id)}))]})}var pe=function(e){Object(Q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.props.getNewsIds()}},{key:"render",value:function(){return 100!==this.props.news.length?Object(d.jsx)(te,{}):Object(d.jsx)(xe,Object(f.a)({},this.props))}}]),n}(s.a.Component),ge=Object(o.b)((function(e){return{news:e.mainPage.news}}),{getNewsIds:function(){return function(e){e({type:N}),y.getNewsID().then((function(t){for(var n=100;n>0;n--)e(L(t[n]))}))}}})(pe),we=n(292);function ve(e){return Object(d.jsx)(a.b,{to:"".concat(e.path),children:Object(d.jsxs)("h2",{style:{position:"relative"},children:[Object(d.jsx)(we.a,{})," ",Object(d.jsx)("span",{children:"Back"})]})})}var Ce=n(293),ke=n(55),ye=n(143),Ee=n.n(ye),Ne=function(e){var t=e.text;return Object(d.jsxs)(d.Fragment,{children:[" ",Ee()(t)," "]})},_e=(n(286),function(e){var t=e.kid,n=fe.a.unix(t.time);return Object(d.jsx)(ke.a,{children:Object(d.jsxs)(ke.a.Body,{className:"kid",children:[Object(d.jsx)("h6",{style:{fontWeight:"700",color:"greenyellow",fontSize:"14px"},children:t.by}),Object(d.jsx)("div",{style:{padding:"2%",marginLeft:"20px"},id:"parentKid".concat(t.id),children:Object(d.jsx)(Ne,{text:t.text})}),Object(d.jsxs)("strong",{children:[Object(d.jsx)(me.a,{})," ",n.format("LTS")," \ud83d\udcc5 ",n.format("LL")]})]})})}),Le=function(e){var t=e.comment,n=e.kids,c=e.getKidsComments,s=fe.a.unix(t.time);return Object(d.jsx)(ke.a,{children:Object(d.jsxs)(ke.a.Body,{style:{padding:"2%"},children:[Object(d.jsx)("h5",{style:{fontWeight:"700",fontSize:"20px"},children:t.by}),Object(d.jsx)("div",{style:{marginLeft:"2%"},children:Object(d.jsx)(Ne,{text:t.text})}),Object(d.jsxs)("strong",{style:{fontSize:"12px"},children:[Object(d.jsx)(me.a,{})," ",s.format("LTS")," \ud83d\udcc5 ",s.format("LL")," ",t.kids?Object(d.jsxs)("div",{className:"btn__more",onClick:function(){c(t.kids)},children:[" ",Object(d.jsx)(le.a,{})," ",t.kids.length]}):Object(d.jsxs)("div",{className:"btn",children:[Object(d.jsx)(le.a,{})," 0"]})]}),n.length&&n[0].parent===t.id?n.map((function(e){return Object(d.jsx)(_e,{kid:e},e.id)})):Object(d.jsx)("div",{})]})})},Se=function(e){var t=e.comments,n=e.getKidsComments,c=e.kids,s=e.commentsLength,r=e.deleteCommentsCount;return Object(d.jsx)(d.Fragment,{children:t.length&&t.length!==s-r?Object(d.jsx)(Ce.a,{style:{fontSize:"40px"}}):t.map((function(e){return Object(d.jsx)(Le,{comment:e,getKidsComments:n,kids:c},e.id)}))})},Te=n(294);n(287);function Me(e){var t=e.newsProfile,n=e.commentsCount,c=fe.a.unix(t.time);return Object(d.jsxs)("div",{className:"item",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:c.format("MMMM, YYYY")})}),Object(d.jsx)("div",{style:{marginLeft:"15px",fontSize:"30px",fontWeight:"700"},children:c.format("DD")}),Object(d.jsx)("div",{style:{marginLeft:"5px",color:"gold"},children:Object(d.jsx)("span",{children:c.format("LTS")})})]}),Object(d.jsx)("div",{style:{marginLeft:"50px",borderLeft:"2px solid black"}}),Object(d.jsxs)("div",{className:"item_info",children:[Object(d.jsx)("h2",{children:Object(d.jsx)("strong",{children:t.title})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(de.a,{})," ",t.by]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(le.a,{})," ",t.kids?n:0," "]}),Object(d.jsx)("a",{rel:"noreferrer",target:"_blank",href:"".concat(t.url),children:Object(d.jsxs)("h2",{children:[Object(d.jsx)(Te.a,{})," ",Object(d.jsx)("span",{children:"Link"})]})})]})]})}function Pe(e){var t=e.newsProfile,n=e.comments,c=e.kids,s=e.commentsCount,r=e.updateComments,i=e.getKidsComments,o=e.deleteCommentsCount;return Object(d.jsxs)(j.a.Content,{style:{padding:"80px 80px 0 4em"},children:[Object(d.jsx)(ve,{path:"/"}),Object(d.jsx)(Me,{newsProfile:t,commentsCount:s}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:Object(d.jsx)("strong",{children:"Comments"})}),Object(d.jsxs)("button",{className:"update",onClick:function(){return r(t.kids)},children:[Object(d.jsx)(ce.a,{}),Object(d.jsx)("strong",{children:" update"})]}),Object(d.jsx)("div",{style:{marginTop:"30px"},children:n.length?Object(d.jsx)(Se,{comments:n,getKidsComments:i,kids:c,commentsLength:t.kids.length,deleteCommentsCount:o}):Object(d.jsx)("h5",{children:"No comments"})})]})]})}var Ie=function(e){Object(Q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.newsId;this.props.getNewsProfile(e)}},{key:"render",value:function(){return this.props.isLoading?Object(d.jsx)(te,{}):Object(d.jsx)(Pe,Object(f.a)({},this.props))}}]),n}(s.a.Component),De=[{path:"/",component:ge,exact:!0},{path:"/news/:newsId",component:Object(b.c)(Object(o.b)((function(e){return{newsProfile:e.newsPage.newsProfile,isLoading:e.newsPage.isLoading,comments:e.newsPage.comments,kids:e.newsPage.kids,commentsCount:e.newsPage.commentsCount,deleteCommentsCount:e.newsPage.deleteCommentsCount}}),{getNewsProfile:function(e){return function(t){t(W(!0)),t(F()),t(Y()),t(H()),y.getNews(e).then((function(e){t({type:S,newsProfile:e}),e.kids&&e.kids.forEach((function(e){t(G(e))})),t(W(!1))}))}},updateComments:function(e){return function(t){t(F()),t(Y()),t(H()),e?e.forEach((function(e){t(G(e))})):t(Y())}},getKidsComments:function(e){return function(t){e.forEach((function(e){return t(A(e))}))}}}),X.h)(Ie),exact:!0}];function Ke(){return Object(d.jsxs)(X.d,{children:[De.map((function(e){return Object(d.jsx)(X.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(d.jsx)(X.a,{to:"/"})]})}var ze=function(){return Object(d.jsx)(a.a,{children:Object(d.jsxs)(o.a,{store:V,children:[Object(d.jsx)(l,{}),Object(d.jsx)(Ke,{})]})})};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(ze,{})}),document.getElementById("root"))},84:function(e,t,n){e.exports={back:"Back_back__1gCzL",show:"Back_show__AV2iq",hide:"Back_hide__1F63U"}},95:function(e,t,n){e.exports={loading:"Loader_loading__3zHU8",body:"Loader_body__1XEvC"}}},[[288,1,2]]]);
//# sourceMappingURL=main.75734f36.chunk.js.map